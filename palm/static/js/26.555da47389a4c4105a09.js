webpackJsonp([26],{I5Ba:function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=t("Xxa5"),o=t.n(r),s=t("exGp"),a=t.n(s),i=t("Dd8w"),d=t.n(i),A=t("o01X"),p=t("b4Wq"),c=t("Au9i"),l=t("y5xs"),u=t("0xDb"),C=t("NYxO"),w={data:function(){return{agencysInfo:this.$route.params.agencysInfo,userInfo:{},originPassword:"",newPassword:"",newPasswordAgain:""}},components:{navReturn:A.a,errorTips:p.a},beforeRouteEnter:function(e,n,t){var r=Object(u.c)("userInfo");null!==r&&(r=JSON.parse(r),10===Number(r.role)&&"studentResetPassword"!==e.name&&t("/"+e.params.agencysNamePy+"/studentResetPassword"),2===Number(r.role)&&"agencysResetPassword"!==e.name&&t("/"+e.params.agencysNamePy+"/agencysResetPassword")),t()},created:function(){this.getUserProfile()},methods:d()({},Object(C.c)(["SET_ACCOUNT"]),{getUserProfile:function(){var e=a()(o.a.mark(function e(){var n;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return c.Indicator.open(),e.next=3,Object(l.p)(this.agencysInfo.id);case 3:n=e.sent,c.Indicator.close(),0===n.errCode&&null!==n.data?this.userInfo=n.data:10003===n.errCode||10005===n.errCode?this.tokenOutOfDate():80001===n.errCode?Object(c.Toast)("机构不存在"):Object(c.Toast)("获取用户信息失败");case 6:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),finishReset:function(){var e=a()(o.a.mark(function e(){var n;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==this.originPassword){e.next=3;break}return this.SET_ACCOUNT(["errorTips","请输入旧密码"]),e.abrupt("return",!1);case 3:if(""!==this.newPassword){e.next=6;break}return this.SET_ACCOUNT(["errorTips","请输入新密码"]),e.abrupt("return",!1);case 6:if(Object(u.f)(this.newPassword)){e.next=9;break}return this.SET_ACCOUNT(["errorTips","请输入8-16位密码，需同时包含字母和数字"]),e.abrupt("return",!1);case 9:if(""!==this.newPasswordAgain){e.next=12;break}return this.SET_ACCOUNT(["errorTips","请输入确认密码"]),e.abrupt("return",!1);case 12:if(this.newPassword===this.newPasswordAgain){e.next=15;break}return this.SET_ACCOUNT(["errorTips","密码不一致"]),e.abrupt("return",!1);case 15:return c.Indicator.open(),e.next=18,Object(l.q)(this.userInfo.mobile,this.originPassword,this.newPassword,this.newPasswordAgain);case 18:n=e.sent,c.Indicator.close(),0===n.errCode?(Object(c.Toast)("重置密码成功"),"studentResetPassword"===this.$route.name?this.goToOther("/studentSafeCenter"):this.goToOther("/agencysSafeCenter")):10003===n.errCode||10005===n.errCode?this.tokenOutOfDate():10006===n.errCode?this.SET_ACCOUNT(["errorTips","请输入手机号码"]):10014===n.errCode?this.SET_ACCOUNT(["errorTips","请输入确认密码"]):10015===n.errCode?tthis.SET_ACCOUNT(["errorTips","密码不一致"]):10024===n.errCode?this.SET_ACCOUNT(["errorTips","请输入新密码"]):10035===n.errCode?this.SET_ACCOUNT(["errorTips","请输入旧密码"]):10036===n.errCode?this.SET_ACCOUNT(["errorTips","提交的手机号码与用户注册手机号不一致"]):10043===n.errCode?this.SET_ACCOUNT(["errorTips","密码错误，请重新填写"]):Object(c.Toast)("重置密码失败");case 21:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()}),watch:{$route:function(){window.location.reload()}}},m={render:function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",{staticClass:"wrap"},[t("nav-return",{attrs:{title:"重置密码",operate:"完成",goHome:!1},on:{navOperate:e.finishReset}}),e._v(" "),t("error-tips"),e._v(" "),t("ul",{staticClass:"content"},[t("li",[t("p",{staticClass:"title"},[e._v("账户")]),e._v(" "),t("p",{staticClass:"account"},[e._v(e._s(e.userInfo.mobile))])]),e._v(" "),t("li",[t("p",{staticClass:"title"},[e._v("旧密码")]),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.originPassword,expression:"originPassword"}],attrs:{type:"password",placeholder:"请填写旧密码"},domProps:{value:e.originPassword},on:{input:function(n){n.target.composing||(e.originPassword=n.target.value)}}})]),e._v(" "),t("li",[t("p",{staticClass:"title"},[e._v("新密码")]),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.newPassword,expression:"newPassword"}],attrs:{type:"password",placeholder:"请填写新密码",maxlength:"16"},domProps:{value:e.newPassword},on:{input:function(n){n.target.composing||(e.newPassword=n.target.value)}}})]),e._v(" "),t("li",[t("p",{staticClass:"title"},[e._v("确认密码")]),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.newPasswordAgain,expression:"newPasswordAgain"}],attrs:{type:"password",placeholder:"请再次输入新的密码",maxlength:"16"},domProps:{value:e.newPasswordAgain},on:{input:function(n){n.target.composing||(e.newPasswordAgain=n.target.value)}}})])]),e._v(" "),t("div",{staticClass:"password-tips"},[t("p",{staticClass:"tips"},[e._v("8-16位密码，需同时包含字母和数字。")]),e._v(" "),t("p",{staticClass:"tips-btn",on:{click:function(n){e.goToDetail("/findPassword",{mobile:e.userInfo.mobile})}}},[e._v("忘记密码？")])])],1)},staticRenderFns:[]},f=t("VU/8")(w,m,!1,function(e){t("ueoW")},"data-v-606804d8",null);n.default=f.exports},ueoW:function(e,n,t){var r=t("yTYw");"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);t("rjj0")("2ef1cc18",r,!0)},yTYw:function(e,n,t){(e.exports=t("FZ+f")(!0)).push([e.i,"\n.wrap[data-v-606804d8] {\n  min-height: 100vh;\n  background-color: #fff;\n}\n.wrap .content[data-v-606804d8] {\n  width: 100%;\n  margin-top: 0.666667rem;\n  padding: 0 0.333333rem;\n}\n.wrap .content li[data-v-606804d8] {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-align: center;\n      -ms-flex-align: center;\n          align-items: center;\n  height: 1.173333rem;\n  border-bottom: 0.013333rem solid #eee;\n}\n.wrap .content li p[data-v-606804d8] {\n  width: 3.2rem;\n  font-size: 0.426667rem;\n  color: #323333;\n}\n.wrap .content li .account[data-v-606804d8] {\n  font-size: 0.426667rem;\n  color: #323333;\n}\n.wrap .content li input[data-v-606804d8] {\n  -webkit-box-flex: 1;\n      -ms-flex: 1;\n          flex: 1;\n  height: 1.04rem;\n  font-size: 0.426667rem;\n  color: #323333;\n  border: none;\n}\n.wrap .content li input[data-v-606804d8]::-webkit-input-placeholder {\n  font-size: 0.426667rem;\n  color: #999999;\n}\n.wrap .content li input[data-v-606804d8]:-ms-input-placeholder {\n  font-size: 0.426667rem;\n  color: #999999;\n}\n.wrap .content li input[data-v-606804d8]::-ms-input-placeholder {\n  font-size: 0.426667rem;\n  color: #999999;\n}\n.wrap .content li input[data-v-606804d8]::placeholder {\n  font-size: 0.426667rem;\n  color: #999999;\n}\n.wrap .password-tips[data-v-606804d8] {\n  padding: 1.026667rem 0.333333rem 0 0.333333rem;\n}\n.wrap .password-tips .tips[data-v-606804d8] {\n  font-size: 0.4rem;\n  color: #989999;\n  margin-bottom: 0.56rem;\n}\n.wrap .password-tips .tips-btn[data-v-606804d8] {\n  font-size: 0.4rem;\n  color: #04b2a3;\n  cursor: pointer;\n}","",{version:3,sources:["D:/项目文件/demo/palm-h5/src/views/safeCenter/safeResetPassword.vue"],names:[],mappings:";AACA;EACE,kBAAkB;EAClB,uBAAuB;CACxB;AACD;EACE,YAAY;EACZ,wBAAwB;EACxB,uBAAuB;CACxB;AACD;EACE,qBAAqB;EACrB,qBAAqB;EACrB,cAAc;EACd,0BAA0B;MACtB,uBAAuB;UACnB,oBAAoB;EAC5B,oBAAoB;EACpB,sCAAsC;CACvC;AACD;EACE,cAAc;EACd,uBAAuB;EACvB,eAAe;CAChB;AACD;EACE,uBAAuB;EACvB,eAAe;CAChB;AACD;EACE,oBAAoB;MAChB,YAAY;UACR,QAAQ;EAChB,gBAAgB;EAChB,uBAAuB;EACvB,eAAe;EACf,aAAa;CACd;AACD;EACE,uBAAuB;EACvB,eAAe;CAChB;AACD;EACE,uBAAuB;EACvB,eAAe;CAChB;AACD;EACE,uBAAuB;EACvB,eAAe;CAChB;AACD;EACE,uBAAuB;EACvB,eAAe;CAChB;AACD;EACE,+CAA+C;CAChD;AACD;EACE,kBAAkB;EAClB,eAAe;EACf,uBAAuB;CACxB;AACD;EACE,kBAAkB;EAClB,eAAe;EACf,gBAAgB;CACjB",file:"safeResetPassword.vue",sourcesContent:["\n.wrap[data-v-606804d8] {\n  min-height: 100vh;\n  background-color: #fff;\n}\n.wrap .content[data-v-606804d8] {\n  width: 100%;\n  margin-top: 0.666667rem;\n  padding: 0 0.333333rem;\n}\n.wrap .content li[data-v-606804d8] {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-align: center;\n      -ms-flex-align: center;\n          align-items: center;\n  height: 1.173333rem;\n  border-bottom: 0.013333rem solid #eee;\n}\n.wrap .content li p[data-v-606804d8] {\n  width: 3.2rem;\n  font-size: 0.426667rem;\n  color: #323333;\n}\n.wrap .content li .account[data-v-606804d8] {\n  font-size: 0.426667rem;\n  color: #323333;\n}\n.wrap .content li input[data-v-606804d8] {\n  -webkit-box-flex: 1;\n      -ms-flex: 1;\n          flex: 1;\n  height: 1.04rem;\n  font-size: 0.426667rem;\n  color: #323333;\n  border: none;\n}\n.wrap .content li input[data-v-606804d8]::-webkit-input-placeholder {\n  font-size: 0.426667rem;\n  color: #999999;\n}\n.wrap .content li input[data-v-606804d8]:-ms-input-placeholder {\n  font-size: 0.426667rem;\n  color: #999999;\n}\n.wrap .content li input[data-v-606804d8]::-ms-input-placeholder {\n  font-size: 0.426667rem;\n  color: #999999;\n}\n.wrap .content li input[data-v-606804d8]::placeholder {\n  font-size: 0.426667rem;\n  color: #999999;\n}\n.wrap .password-tips[data-v-606804d8] {\n  padding: 1.026667rem 0.333333rem 0 0.333333rem;\n}\n.wrap .password-tips .tips[data-v-606804d8] {\n  font-size: 0.4rem;\n  color: #989999;\n  margin-bottom: 0.56rem;\n}\n.wrap .password-tips .tips-btn[data-v-606804d8] {\n  font-size: 0.4rem;\n  color: #04b2a3;\n  cursor: pointer;\n}"],sourceRoot:""}])}});
//# sourceMappingURL=26.555da47389a4c4105a09.js.map